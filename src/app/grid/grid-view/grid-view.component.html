<div
    #containerEl
    style="
        display: grid;
        height: 100%;
        grid-template-rows: max-content 1fr;
        grid-template-columns: max-content 1fr;
    "
>
    <!-- Top-left corner -->
    <div></div>

    <!-- Column titles -->
    <div [style.overflow]="'visible'">
        <!-- <div
            *ngIf="images.length > 0"
            [style.display]="'grid'"
            [style.grid-template-columns]="colWidths(scale)"
        >
            <span *ngFor="let title of colTitles$ | async">{{ title }}</span>
        </div> -->
    </div>

    <!-- Row Titles -->
    <div [style.overflow]="'visible'">
        <!-- <div
            *ngIf="images.length > 0"
            [style.display]="'grid'"
            [style.grid-template-rows]="rowHeights(scale)"
        >
            <span *ngFor="let title of rowTitles$ | async">{{ title }}</span>
        </div> -->
    </div>

    <!-- Images -->
    <svg
        style="min-height: 0; min-width: 0"
        [style.overflow]="'visible'"
        [style.z-index]="-1"
        #imageGrid
    >
        <g *ngIf="tracks$ | async as tracks">
            <g *ngFor="let row of tracks[2]; index as r">
                <g *ngFor="let img of row; index as c">
                    <image
                        [attr.height]="tracks[0][r].dim"
                        [attr.width]="tracks[1][c].dim"
                        [attr.x]="tracks[0][r].pos(c)"
                        [attr.y]="tracks[1][c].pos(r)"
                        [attr.href]="img.data"
                    />
                </g>
            </g>
        </g>
    </svg>
</div>
